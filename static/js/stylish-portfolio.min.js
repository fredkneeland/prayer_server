!function(e){"use strict";var a=[0,0,0,0,0,0,0];e(".menu-toggle").click(function(a){a.preventDefault(),e("#sidebar-wrapper").toggleClass("active"),e(".menu-toggle > .fa-bars, .menu-toggle > .fa-times").toggleClass("fa-bars fa-times"),e(this).toggleClass("active")}),e('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=e(this.hash);if((a=a.length?a:e("[name="+this.hash.slice(1)+"]")).length)return e("html, body").animate({scrollTop:a.offset().top},1e3,"easeInOutExpo"),!1}}),e("#sidebar-wrapper .js-scroll-trigger").click(function(){e("#sidebar-wrapper").removeClass("active"),e(".menu-toggle").removeClass("active"),e(".menu-toggle > .fa-bars, .menu-toggle > .fa-times").toggleClass("fa-bars fa-times")}),e(document).scroll(function(){e(this).scrollTop()>100?e(".scroll-to-top").fadeIn():e(".scroll-to-top").fadeOut()});for(var o=function(o,t){var n="#div"+o+"_"+t;return function(s){console.log("LETS GO!!!!!  Yeah boys i: "+o+", j: "+t);var r=e(n).css("opacity");if(a[t-1]==o)a[t-1]=-1,r*=2,e(n).css("opacity",r);else if(a[t-1]>=0){console.log("we have this day..."+a[t-1]+"_"+t);var c="#div"+a[t-1]+"_"+t,i=e(c).css("opacity");i*=2,console.log("old Opacity: "+i),e(c).css("opacity",i),r/=2,e(n).css("opacity",r)}else console.log("We havent set this day yet..."),r/=2,e(n).css("opacity",r);a[t-1]=o,console.log("days: "+a),e.ajax({url:"/prayerUpdate",dataType:"json",contentType:"application/json; charset=utf-8",type:"POST",data:JSON.stringify({days:a}),error:function(e,a,o){console.log(e),console.log("hi"),console.error("/myprayers/",a,o.toString())}.bind(this)})}},t=function(a){for(var o='<div class="row calendar-row">',t=1;t<8;t++)o+=s(a,t);o+="</div>",e("#calendartable").append(o)},n=function(e){return(e<=4?"12":e<=52?1+parseInt((e-5)/4):1+parseInt((e-53)/4))+":"+(e%4==1?"00":e%4==2?"15":e%4==3?"30":"45")},s=function(e,a){var o,t,s,r,c='<div id="div'+e+"_"+a+'"';return c+=' class="col calendar-square"',c+=' data-toggle="tooltip"',c+=' data-placement="top"',c+=' title="'+function(e){switch(e){case 1:return"Sunday";case 2:return"Monday";case 3:return"Tuesday";case 4:return"Wednesday";case 5:return"Thursday";case 6:return"Friday";case 7:return"Saturday"}}(a)+": "+(t=n(o=e),s=n(o+1),r="am",o>=48&&(r="pm"),96==o&&(r="am"),t+"-"+s+" "+r)+'">',c+="</div>"},r=1;r<97;r++)t(r);for(r=1;r<97;r++)for(var c=1;c<8;c++)e("#div"+r+"_"+c).on("click",o(r,c));e.ajax({url:"/myprayers/",dataType:"json",contentType:"application/json; charset=utf-8",type:"GET",success:function(e){a=e}.bind(this),error:function(e,a,o){console.log(e),console.log("hi"),console.error("/myprayers/",a,o.toString())}.bind(this)}),e.ajax({url:"/prayers/",dataType:"json",contentType:"application/json; charset=utf-8",type:"GET",success:function(a){console.log("total data: "+a);for(var o=0;o<a.length;o++){console.log("j: "+o+" data: "+a[o]);for(var t=0;t<a[o].length;t++){var n=a[o][t];if(n>0){var s="#div"+(o+1)+"_"+(t+1);console.log(s+": "+n);var r=e(s).css("opacity");r/=1+n,e(s).css("opacity",r)}}}}.bind(this),error:function(e,a,o){console.error("idk even know...","/prayers/",a,o.toString())}.bind(this)})}(jQuery);var onMapMouseleaveHandler=function(e){var a=$(this);a.on("click",onMapClickHandler),a.off("mouseleave",onMapMouseleaveHandler),a.find("iframe").css("pointer-events","none")},onMapClickHandler=function(e){var a=$(this);a.off("click",onMapClickHandler),a.find("iframe").css("pointer-events","auto"),a.on("mouseleave",onMapMouseleaveHandler)};$(".map").on("click",onMapClickHandler);