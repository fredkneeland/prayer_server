!function(e){"use strict";var a=[0,0,0,0,0,0,0];e(".menu-toggle").click(function(a){a.preventDefault(),e("#sidebar-wrapper").toggleClass("active"),e(".menu-toggle > .fa-bars, .menu-toggle > .fa-times").toggleClass("fa-bars fa-times"),e(this).toggleClass("active")}),e('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var a=e(this.hash);if((a=a.length?a:e("[name="+this.hash.slice(1)+"]")).length)return e("html, body").animate({scrollTop:a.offset().top},1e3,"easeInOutExpo"),!1}}),e("#sidebar-wrapper .js-scroll-trigger").click(function(){e("#sidebar-wrapper").removeClass("active"),e(".menu-toggle").removeClass("active"),e(".menu-toggle > .fa-bars, .menu-toggle > .fa-times").toggleClass("fa-bars fa-times")}),e(document).scroll(function(){e(this).scrollTop()>100?e(".scroll-to-top").fadeIn():e(".scroll-to-top").fadeOut()});for(var t=function(t,n){var r="#div"+t+"_"+n;return function(o){var s=e(r).css("opacity");if(a[n-1]==t-1)a[n-1]=-1,s*=2,e(r).css("opacity",s);else if(a[n-1]>=0){var i="#div"+(a[n-1]+1)+"_"+n,c=e(i).css("opacity");c*=2,e(i).css("opacity",c),a[n-1]=t-1,s/=2,e(r).css("opacity",s)}else a[n-1]=t-1,s/=2,e(r).css("opacity",s);e.ajax({url:"/prayerUpdate",dataType:"json",contentType:"application/json; charset=utf-8",type:"POST",data:JSON.stringify({days:a}),error:function(e,a,t){console.error("/myprayers/",a,t.toString())}.bind(this)})}},n=function(a){for(var t='<div class="row calendar-row">',n=1;n<8;n++)t+=o(a,n);t+="</div>",e("#calendartable").append(t)},r=function(e){return(e<=4?"12":e<=52?1+parseInt((e-5)/4):1+parseInt((e-53)/4))+":"+(e%4==1?"00":e%4==2?"15":e%4==3?"30":"45")},o=function(e,a){var t,n,o,s,i='<div id="div'+e+"_"+a+'"';return i+=' class="col calendar-square"',i+=' data-toggle="tooltip"',i+=' data-placement="top"',i+=' title="'+function(e){switch(e){case 1:return"Sunday";case 2:return"Monday";case 3:return"Tuesday";case 4:return"Wednesday";case 5:return"Thursday";case 6:return"Friday";case 7:return"Saturday"}}(a)+": "+(n=r(t=e),o=r(t+1),s="am",t>=48&&(s="pm"),96==t&&(s="am"),n+"-"+o+" "+s)+'">',i+="</div>"},s=1;s<97;s++)n(s);for(s=1;s<97;s++)for(var i=1;i<8;i++)e("#div"+s+"_"+i).on("click",t(s,i));e.ajax({url:"/myprayers/",dataType:"json",contentType:"application/json; charset=utf-8",type:"GET",success:function(e){console.log(e),a=e}.bind(this),error:function(e,a,t){console.log(e),console.log("hi"),console.error("/myprayers/",a,t.toString())}.bind(this)});var c=function(){e.ajax({url:"/prayers/",dataType:"json",contentType:"application/json; charset=utf-8",type:"GET",success:function(a){for(var t=0;t<a.length;t++)for(var n=0;n<a[t].length;n++){var r=a[t][n],o="#div"+(t+1)+"_"+(n+1);if(r>0){var s=1/(1+r);e(o).css("opacity",s)}else e(o).css("opacity",1)}}.bind(this),error:function(e,a,t){console.error("idk even know...","/prayers/",a,t.toString())}.bind(this)})};c(),setInterval(c,5e3)}(jQuery);var onMapMouseleaveHandler=function(e){var a=$(this);a.on("click",onMapClickHandler),a.off("mouseleave",onMapMouseleaveHandler),a.find("iframe").css("pointer-events","none")},onMapClickHandler=function(e){var a=$(this);a.off("click",onMapClickHandler),a.find("iframe").css("pointer-events","auto"),a.on("mouseleave",onMapMouseleaveHandler)};$(".map").on("click",onMapClickHandler);