!function(e){"use strict";var t=[0,0,0,0,0,0,0];e(".menu-toggle").click(function(t){t.preventDefault(),e("#sidebar-wrapper").toggleClass("active"),e(".menu-toggle > .fa-bars, .menu-toggle > .fa-times").toggleClass("fa-bars fa-times"),e(this).toggleClass("active")}),e('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=e(this.hash);if((t=t.length?t:e("[name="+this.hash.slice(1)+"]")).length)return e("html, body").animate({scrollTop:t.offset().top},1e3,"easeInOutExpo"),!1}}),e("#sidebar-wrapper .js-scroll-trigger").click(function(){e("#sidebar-wrapper").removeClass("active"),e(".menu-toggle").removeClass("active"),e(".menu-toggle > .fa-bars, .menu-toggle > .fa-times").toggleClass("fa-bars fa-times")}),e(document).scroll(function(){e(this).scrollTop()>100?e(".scroll-to-top").fadeIn():e(".scroll-to-top").fadeOut()});for(var a=function(a,r){var s="#div"+a+"_"+r;return function(n){var o=e(s).css("opacity");if(t[r-1]==a-1)t[r-1]=-1,o*=2,e(s).css("opacity",o);else if(t[r-1]>=0){var i="#div"+(t[r-1]+1)+"_"+r,c=e(i).css("opacity");c*=2,e(i).css("opacity",c),t[r-1]=a-1,o/=2,e(s).css("opacity",o)}else t[r-1]=a-1,o/=2,e(s).css("opacity",o);e.ajax({url:"/prayerUpdate",dataType:"json",contentType:"application/json; charset=utf-8",type:"POST",data:JSON.stringify({days:t}),error:function(e,t,a){console.error("/myprayers/",t,a.toString())}.bind(this)})}},r=function(t){for(var a='<div class="row calendar-row">',r=1;r<8;r++)a+=n(t,r);a+="</div>",e("#calendartable").append(a)},s=function(e){return(e<=4?"12":e<=52?1+parseInt((e-5)/4):1+parseInt((e-53)/4))+":"+(e%4==1?"00":e%4==2?"15":e%4==3?"30":"45")},n=function(e,t){var a,r,n,o,i='<div id="div'+e+"_"+t+'"';return i+=' class="col calendar-square"',i+=' data-toggle="tooltip"',i+=' data-placement="top"',i+=' title="'+function(e){switch(e){case 1:return"Sunday";case 2:return"Monday";case 3:return"Tuesday";case 4:return"Wednesday";case 5:return"Thursday";case 6:return"Friday";case 7:return"Saturday"}}(t)+": "+(r=s(a=e),n=s(a+1),o="am",a>=48&&(o="pm"),96==a&&(o="am"),r+"-"+n+" "+o)+'">',i+="</div>"},o=1;o<97;o++)r(o);for(o=1;o<97;o++)for(var i=1;i<8;i++)e("#div"+o+"_"+i).on("click",a(o,i));e.ajax({url:"/myprayers/",dataType:"json",contentType:"application/json; charset=utf-8",type:"GET",success:function(e){console.log(e),t=e}.bind(this),error:function(e,t,a){console.error("/myprayers/",t,a.toString())}.bind(this)});var c=function(){e.ajax({url:"/prayers/",dataType:"json",contentType:"application/json; charset=utf-8",type:"GET",success:function(t){for(var a=0;a<t.length;a++)for(var r=0;r<t[a].length;r++){var s=t[a][r],n="#div"+(a+1)+"_"+(r+1);if(s>0){var o=1/(1+s);e(n).css("opacity",o)}else e(n).css("opacity",1)}}.bind(this),error:function(e,t,a){console.error("/prayers/",t,a.toString())}.bind(this)})};c(),setInterval(c,6e4)}(jQuery);